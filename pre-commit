# Contents of .git/hooks/pre-commit
# Replace `last_modified_at` timestamp with current time in the specified TZ for .md edits only
# Note that this file should exist in your local as `.git/hooks/pre-commit` and the file must be executable!

git diff --cached --name-status | egrep -i "^(A|M).*\.(md)$" | while read a b; do
  cat $b | sed "/---.*/,/---.*/s/^last_modified_at:.*$/last_modified_at: $(TZ=CST6CDT date "+%F %H.%M %Z")/" > tmp
  mv tmp $b
  git add $b
done 

<!doctype html><html lang=en><head><title>Gating My Content & More - Parts 1 and 2 // The Grinnell College Digital Library Application Developer's Blog</title>
<meta charset=utf-8><meta name=generator content="Hugo 0.140.0"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content="Mark A. McFate"><meta name=description content="My second attempt at gating content in Wieting.TamaToledo.com, sort of."><link rel=stylesheet href=https://static.grinnell.edu/dlad-blog/css/main.min.5efe2f062080343a28f3b21576ff0c6dbf2b0a5d89ed855f45479992bd62d0e6.css><script type=text/javascript src=https://static.grinnell.edu/dlad-blog/js/pdf-js/build/pdf.js></script><script async src="https://www.googletagmanager.com/gtag/js?id=288703662"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","288703662")}</script><meta name=twitter:card content="summary"><meta name=twitter:title content="Gating My Content & More - Parts 1 and 2"><meta name=twitter:description content="My second attempt at gating content in Wieting.TamaToledo.com, sort of."><meta property="og:url" content="https://static.grinnell.edu/dlad-blog/posts/139-gating-my-content-and-more/"><meta property="og:site_name" content="The Grinnell College Digital Library Application Developer's Blog"><meta property="og:title" content="Gating My Content & More - Parts 1 and 2"><meta property="og:description" content="My second attempt at gating content in Wieting.TamaToledo.com, sort of."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-02-06T18:19:53-06:00"><meta property="article:modified_time" content="2023-02-06T18:19:53-06:00"><meta property="article:tag" content="Gating"><meta property="article:tag" content="Authentication"><meta property="article:tag" content="NetlifyCMS"><meta property="article:tag" content="Wieting"><meta property="article:tag" content="StatiCrypt"><meta property="article:tag" content="Eleventy"><script>var _paq=window._paq=window._paq||[];_paq.push(["trackPageView"]),_paq.push(["enableLinkTracking"]),function(){e="https://analytics.summittservices.com/",_paq.push(["setTrackerUrl",e+"matomo.php"]),_paq.push(["setSiteId","16"]);var e,n=document,t=n.createElement("script"),s=n.getElementsByTagName("script")[0];t.async=!0,t.src=e+"matomo.js",s.parentNode.insertBefore(t,s)}()</script></head><body><header class=app-header><a href=https://static.grinnell.edu/dlad-blog/><img class=app-header-avatar src=https://static.grinnell.edu/dlad-blog/avatar.jpg alt="Mark A. McFate"></a><h2>The Grinnell College Digital Library Application Developer's Blog</h2><div class=author-block><p class=site-rev>Compiled: Dec 20, 2024 at 10:00am CST<br>Content Updated: 2024-Dec-20 09:47 CST</p><div class=name>by
<strong>Mark A. McFate</strong></div><div class=address>Grinnell College Libraries</div><div class=link><a href=mailto:></a></div><br></div><nav class=sidebar-nav><a class=sidebar-nav-item href=https://static.grinnell.edu/dlad-blog/search/ title>Search This Blog</a>
<a class=sidebar-nav-item href=https://static.grinnell.edu/dlad-blog/about/ title>About Me</a></nav><p class=site-description>Mark&rsquo;s first Hugo site, a blog, formerly on prem at Static.Grinnell.edu, moved to <em>DigitalOcean</em>, then to <em>Azure</em>, and now hosted on <em>GitHub Pages</em>.</p><div class=app-header-social><a target=_blank href=https://github.com/McFateM><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-github"><title>github</title><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg></a>
<a target=_blank href=https://twitter.com/gohugoio><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-twitter"><title>twitter</title><path d="M23 3a10.9 10.9.0 01-3.14 1.53 4.48 4.48.0 00-7.86 3v1A10.66 10.66.0 013 4s-4 9 5 13a11.64 11.64.0 01-7 2c9 5 20 0 20-11.5a4.5 4.5.0 00-.08-.83A7.72 7.72.0 0023 3z"/></svg></a></div><p class=copyright>The views and opinions expressed on this site belong solely to the original author(s) and do not necessarily represent or reflect those of Grinnell College.</p></header><main class=app-container><div class=breadcrumbs><a href=https://static.grinnell.edu/dlad-blog/>Home</a>
&bull; <a href=https://static.grinnell.edu/dlad-blog/posts/>Posts</a>
&bull; <a href=https://static.grinnell.edu/dlad-blog/posts/139-gating-my-content-and-more/>139 gating my content and more</a></div><article class=post><header class=post-header><h1 class=post-title>Gating My Content & More - Parts 1 and 2</h1><div class=post-meta><script>console.log("Hugo Debug: ",JSON.parse('"2023-02-07T18:19:53-06:00"'))</script><script>console.log("Hugo Debug: ",JSON.parse('"2023-02-06T18:19:53-06:00"'))</script><script>console.log("Hugo Debug: ",JSON.parse('"2023-02-09T11:44:38Z"'))</script><div><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-clock"><title>clock</title><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
9 min read
&nbsp;&nbsp;&bull;&nbsp;&nbsp;
<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-calendar"><title>calendar</title><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>
Feb 6, 2023
&nbsp;&nbsp;&bull;&nbsp;&nbsp;Updated: Feb 9, 2023 11:44
&nbsp;&nbsp;&bull;&nbsp;&nbsp;<strong><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-at-sign"><title>at-sign</title><circle cx="12" cy="12" r="4"/><path d="M16 8v5a3 3 0 006 0v-1a10 10 0 10-3.92 7.94"/></svg> Mark A. McFate</strong><div><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tag"><title>tag</title><path d="M20.59 13.41l-7.17 7.17a2 2 0 01-2.83.0L2 12V2h10l8.59 8.59a2 2 0 010 2.82z"/><line x1="7" y1="7" x2="7.01" y2="7"/></svg>
<a class=tag href=https://static.grinnell.edu/dlad-blog/tags/gating/>Gating</a><a class=tag href=https://static.grinnell.edu/dlad-blog/tags/authentication/>Authentication</a><a class=tag href=https://static.grinnell.edu/dlad-blog/tags/netlifycms/>NetlifyCMS</a><a class=tag href=https://static.grinnell.edu/dlad-blog/tags/wieting/>Wieting</a><a class=tag href=https://static.grinnell.edu/dlad-blog/tags/staticrypt/>StatiCrypt</a><a class=tag href=https://static.grinnell.edu/dlad-blog/tags/eleventy/>Eleventy</a><a class=tag href=https://static.grinnell.edu/dlad-blog/tags/11ty/>11ty</a><a class=tag href=https://static.grinnell.edu/dlad-blog/tags/azure/>Azure</a><a class=tag href=https://static.grinnell.edu/dlad-blog/tags/github/>GitHub</a><a class=tag href=https://static.grinnell.edu/dlad-blog/tags/oauth/>OAuth</a></div></div></header><div class=post-content><h1 id=a-blended-approach>A Blended Approach</h1><p>It&rsquo;s a new month, February 2023 that is, and this the first part of follow-up to last month&rsquo;s post in my personal blog, namely <a href=https://blog.summittdweller.com/posts/2023/01/gating-content/>Gating My Content</a>. Now, rather than trying to &ldquo;gate&rdquo; some of the content in the <a href=https://wieting.tamatoledo.com>Wieting Theatre website</a>, I&rsquo;m going to start a new site, with characteristics listed below, and include only the protected portion of the Wieting&rsquo;s content.</p><p>I call this a &ldquo;blended&rdquo; approach because it will, at least initially, leverage and blend guidance and elements from many of the resources I&rsquo;ve captured at <a href=https://www.one-tab.com/page/iyQVdlpSRICO67Mue7Cb_Q>https://www.one-tab.com/page/iyQVdlpSRICO67Mue7Cb_Q</a>.</p><div class=original><p>This post originally documented the creation of an <em>11ty</em> site based on the <a href=https://github.com/surjithctly/neat-starter>NEAT Starter Template</a>, and some of the illustrations here may include references to it. However, after the <em>11ty</em> site was created I found a starter tutorial and site template better suited to my needs. So, I have a <a href=https://www.one-tab.com/page/iyQVdlpSRICO67Mue7Cb_Q>new OneTab page</a> which includes <a href=https://www.smashingmagazine.com/2021/03/eleventy-static-site-generator/>A Deep Dive Into Eleventy Static Site Generator</a> with an associated starter/template that I&rsquo;ll be using in place of the <a href=https://github.com/surjithctly/neat-starter>NEAT Starter Template</a>.</p></div><h2 id=features>Features</h2><p>As you&rsquo;ll see in the <a href=https://www.one-tab.com/>OneTab</a> page listed above, the new site will feature:</p><ol><li>An <a href=https://www.11ty.dev/>11ty</a> site following <strike>this <a href=https://github.com/surjithctly/neat-starter>NEAT Starter Template</a></strike> <a href=https://www.smashingmagazine.com/2021/03/eleventy-static-site-generator/>A Deep Dive Into Eleventy Static Site Generator</a>,</li><li>Deployed as an <a href=https://azure.microsoft.com/en-us/products/app-service/static>Azure Static Web App</a>,</li><li>Customization to populate the site with Wieting Theatre Guild information,</li><li>Using <a href=https://robinmoisson.github.io/staticrypt/>StatiCrypt CLI</a> to protect pages,</li><li>From a <a href=https://github.com/Jack-alope/staticrypt-github-actions/blob/main/.github/workflows/encrypt.yml>GitHub Action</a>, and</li><li>Perhaps some integration with <a href=https://github.com/jahlen/hugo-azure-static-webapp>Netlify CMS in <em>Azure</em></a> instead of <em>Netlify.com</em>.</li></ol><h1 id=with-better-documentation>With Better Documentation</h1><p>As steps are taken, I&rsquo;ll try to capture what I used, and why, along with a detailed history of those steps. In fact, I&rsquo;m going to try using <a href=https://static.grinnell.edu/dlad-blog/posts/138-creating-better-documentation/>Creating-Better-Documentation</a> to record everything I do on this screen from start-to-finish. Wish me luck.</p><div class=original><p>This post will cover features 1 and 2 from the list above. Subsequent posts in this blog will address features 3 through 6.</p><p>In the figures below, <span style=color:#ff0;font-weight:700>yellow</span> box annotations mark elements that need attention or need to be checked, while <span style=color:red;font-weight:700>red</span> box annotations mark elements that need input of some kind.</p></div><h2 id=building-a-local-11ty-site>Building a Local 11ty Site</h2><p>I started the build process using the <strike><a href=https://github.com/surjithctly/neat-starter>NEAT Starter Template</a></strike> <a href=https://github.com/5t3ph/smol-11ty-starter.git>Smol-11ty-Starter</a> to create a new local <code>git</code> project. See <em>Figure 1</em> below.</p><link rel=stylesheet href=https://static.grinnell.edu/dlad-blog/css/hugo-easy-gallery.css><div class=box><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><div class=img><img itemprop=thumbnail src=https://sddocs.blob.core.windows.net/documentation/Building-Wieting-Guild-Pages/0017.png></div><a href=https://sddocs.blob.core.windows.net/documentation/Building-Wieting-Guild-Pages/0017.png itemprop=contentUrl></a><figcaption><h4>Figure 1 &#183; Create a local clone of the <code>Smol-11ty-Starter</code> template</h4></figcaption></figure></div><p>In my case, I choose to name my new project <code>wieting-guild-pages</code> rather than using the default name. The full command in my case was: <code>git clone https://github.com/5t3ph/smol-11ty-starter.git wieting-guild-pages</code>.</p><div class=box><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><div class=img><img itemprop=thumbnail src=https://sddocs.blob.core.windows.net/documentation/Building-Wieting-Guild-Pages/0025.png></div><a href=https://sddocs.blob.core.windows.net/documentation/Building-Wieting-Guild-Pages/0025.png itemprop=contentUrl></a><figcaption><h4>Figure 2 &#183; Give the local clone an sppropriate name</h4></figcaption></figure></div><p>Change directory (<code>cd</code>) into the new project directory.</p><div class=box><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><div class=img><img itemprop=thumbnail src=https://sddocs.blob.core.windows.net/documentation/Building-Wieting-Guild-Pages/0028.png></div><a href=https://sddocs.blob.core.windows.net/documentation/Building-Wieting-Guild-Pages/0028.png itemprop=contentUrl></a><figcaption><h4>Figure 3 &#183; Change directory into the new project</h4></figcaption></figure></div><p>If I intended to create a <em>public</em> code repository I could have &ldquo;forked&rdquo; the <a href=https://github.com/5t3ph/smol-11ty-starter.git>Smol-11ty-Starter</a> project and cloned my local from that fork, but the <a href=https://github.com/SummittDweller/wieting-guild-pages>SummittDweller/wieting-guild-pages</a> needed to be <em>private</em> so I used the following process instead. Why? Because you can&rsquo;t create a <em>private</em> repo from a fork.</p><p>So, I began by removing the local repo&rsquo;s association with <a href=https://github.com/5t3ph/smol-11ty-starter.git>Smol-11ty-Starter</a> using <code>rm -fr .git</code> as shown in <em>Figure 4</em> below.</p><div class=box><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><div class=img><img itemprop=thumbnail src=https://sddocs.blob.core.windows.net/documentation/Building-Wieting-Guild-Pages/0034.png></div><a href=https://sddocs.blob.core.windows.net/documentation/Building-Wieting-Guild-Pages/0034.png itemprop=contentUrl></a><figcaption><h4>Figure 4 &#183; Remove the local repo&rsquo;s <code>.git</code> directory</h4></figcaption></figure></div><p>Time to launch <em>VScode</em>. On my Mac that&rsquo;s simply: <code>code .</code>.</p><div class=box><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><div class=img><img itemprop=thumbnail src=https://sddocs.blob.core.windows.net/documentation/Building-Wieting-Guild-Pages/0037.png></div><a href=https://sddocs.blob.core.windows.net/documentation/Building-Wieting-Guild-Pages/0037.png itemprop=contentUrl></a><figcaption><h4>Figure 5 &#183; Launch <em>VSCode</em></h4></figcaption></figure></div><p>I like to have a terminal, attached to my project workspace, running inside <em>VSCode</em>. So, in <em>VSCode</em> that&rsquo;s <code>Command - Shift - P</code> to open the command pallette, then select <code>Terminal: Create New Terminal (In Active Workspace)</code> to open a terminal within the <em>VSCode</em> project as you see below in <em>Figure 6</em> and <em>Figure 7</em>.</p><div class=box><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><div class=img><img itemprop=thumbnail src=https://sddocs.blob.core.windows.net/documentation/Building-Wieting-Guild-Pages/0137.png></div><a href=https://sddocs.blob.core.windows.net/documentation/Building-Wieting-Guild-Pages/0137.png itemprop=contentUrl></a><figcaption><h4>Figure 6 &#183; Attaching a terminal to my project in <em>VSCode</em></h4></figcaption></figure></div><div class=box><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><div class=img><img itemprop=thumbnail src=https://sddocs.blob.core.windows.net/documentation/Building-Wieting-Guild-Pages/0038.png></div><a href=https://sddocs.blob.core.windows.net/documentation/Building-Wieting-Guild-Pages/0038.png itemprop=contentUrl></a><figcaption><h4>Figure 7 &#183; A project terminal in <em>VSCode</em></h4></figcaption></figure></div><h2 id=creating-a-new-github-project>Creating a New GitHub Project</h2><p>Next, I returned to my <em>GitHub</em> tab and select the upper-right <code>+</code> drop-down to create a <code>New repository</code>. I gave the new repo a <code>Repository name</code>, <code>Description</code>, chose to make it <code>Private</code>, did NOT elect to <code>Add a README file</code>, and clicked <code>Create repository</code>, as you see in <em>Figure 7</em> below.</p><div class=box><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><div class=img><img itemprop=thumbnail src=https://sddocs.blob.core.windows.net/documentation/Building-Wieting-Guild-Pages/0081.png></div><a href=https://sddocs.blob.core.windows.net/documentation/Building-Wieting-Guild-Pages/0081.png itemprop=contentUrl></a><figcaption><h4>Figure 8 &#183; Creating a new, private <em>GitHub</em> repo</h4></figcaption></figure></div><p>The new repo comes with instructions for proceeding with the project.</p><div class=box><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><div class=img><img itemprop=thumbnail src=https://sddocs.blob.core.windows.net/documentation/Building-Wieting-Guild-Pages/0084.png></div><a href=https://sddocs.blob.core.windows.net/documentation/Building-Wieting-Guild-Pages/0084.png itemprop=contentUrl></a><figcaption><h4>Figure 9 &#183; New repo status and instructions</h4></figcaption></figure></div><p>From the project&rsquo;s <em>VSCode</em> terminal I executed the commands as instructed by the new <em>GitHub</em> repo window, beginning with <code>git init</code>.</p><div class=box><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><div class=img><img itemprop=thumbnail src=https://sddocs.blob.core.windows.net/documentation/Building-Wieting-Guild-Pages/0149.png></div><a href=https://sddocs.blob.core.windows.net/documentation/Building-Wieting-Guild-Pages/0149.png itemprop=contentUrl></a><figcaption><h4>Figure 10 &#183; Initialze the local project with <code>git init</code></h4></figcaption></figure></div><p>Then <code>git add .</code> instead of <code>git add README.md</code> as instructed. I do this to add ALL of the project files to staging becase we need to commit everything, not just the <code>README.md</code> file.</p><div class=box><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><div class=img><img itemprop=thumbnail src=https://sddocs.blob.core.windows.net/documentation/Building-Wieting-Guild-Pages/0152.png></div><a href=https://sddocs.blob.core.windows.net/documentation/Building-Wieting-Guild-Pages/0152.png itemprop=contentUrl></a><figcaption><h4>Figure 11 &#183; <code>git add .</code> to stage ALL files for commit</h4></figcaption></figure></div><p>Next, I copied and pasted the remaining commands from the instructions into the terminal. The complete command block includes:</p><pre tabindex=0><code>git commit -m &#34;first commit&#34;
git branch -M main
git remote add origin https://github.com/SummittDweller/wieting-guild-pages.git
git push -u origin main
</code></pre><p>The terminal should respond with output like you see in <em>Figure 13</em> below.</p><div class=box><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><div class=img><img itemprop=thumbnail src=https://sddocs.blob.core.windows.net/documentation/Building-Wieting-Guild-Pages/0159.png></div><a href=https://sddocs.blob.core.windows.net/documentation/Building-Wieting-Guild-Pages/0159.png itemprop=contentUrl></a><figcaption><h4>Figure 12 &#183; Copy/paste the remaining <code>git</code> commands</h4></figcaption></figure></div><div class=box><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><div class=img><img itemprop=thumbnail src=https://sddocs.blob.core.windows.net/documentation/Building-Wieting-Guild-Pages/0161.png></div><a href=https://sddocs.blob.core.windows.net/documentation/Building-Wieting-Guild-Pages/0161.png itemprop=contentUrl></a><figcaption><h4>Figure 13 &#183; Output from <code>git push...</code></h4></figcaption></figure></div><p>Now it was time to make an initial build and run the starter project as instructed in step 2 of the project&rsquo;s <a href=https://github.com/5t3ph/smol-11ty-starter#quick-start>Quick Start</a> instructions.</p><div class=box><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><div class=img><img itemprop=thumbnail src=https://sddocs.blob.core.windows.net/documentation/Building-Wieting-Guild-Pages/0171.png></div><a href=https://sddocs.blob.core.windows.net/documentation/Building-Wieting-Guild-Pages/0171.png itemprop=contentUrl></a><figcaption><h4>Figure 14 &#183; Install <code>npm</code> dependencies</h4></figcaption></figure></div><p>My install detected a number of vulnerabilities, presumably because of the starter project&rsquo;s age, so I followed the advice provided in the <code>npm install</code> output and ran a <code>npm audit fix</code> command as you see below.</p><div class=box><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><div class=img><img itemprop=thumbnail src=https://sddocs.blob.core.windows.net/documentation/Building-Wieting-Guild-Pages/0179.png></div><a href=https://sddocs.blob.core.windows.net/documentation/Building-Wieting-Guild-Pages/0179.png itemprop=contentUrl></a><figcaption><h4>Figure 15 &#183; Using <code>npm audit fix</code> as suggested</h4></figcaption></figure></div><p>Next, continuing the starter project&rsquo;s quick start instructions I executed <code>npm run build</code> to build our first instance of the <em>11ty</em> project. Note in the output that the command is building the <em>11ty</em> site in the <code>public</code> directory. This information will be needed later in the process.</p><div class=box><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><div class=img><img itemprop=thumbnail src=https://sddocs.blob.core.windows.net/documentation/Building-Wieting-Guild-Pages/0188.png></div><a href=https://sddocs.blob.core.windows.net/documentation/Building-Wieting-Guild-Pages/0188.png itemprop=contentUrl></a><figcaption><h4>Figure 16 &#183; Build the <em>11ty</em> project</h4></figcaption></figure></div><p>Since the <code>build</code> was a success I continued with the quick start by running <code>npm run start</code> to launch a local instance of the site. As you see in <em>Figure 18</em>, the local site becomes available in our web browser at <code>http://localhost:8080</code> and multiple links to visit the site are provided.</p><div class=box><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><div class=img><img itemprop=thumbnail src=https://sddocs.blob.core.windows.net/documentation/Building-Wieting-Guild-Pages/0194.png></div><a href=https://sddocs.blob.core.windows.net/documentation/Building-Wieting-Guild-Pages/0194.png itemprop=contentUrl></a><figcaption><h4>Figure 17 &#183; Launch a local instance of the site using <code>npm run start</code></h4></figcaption></figure></div><div class=box><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><div class=img><img itemprop=thumbnail src=https://sddocs.blob.core.windows.net/documentation/Building-Wieting-Guild-Pages/0198.png></div><a href=https://sddocs.blob.core.windows.net/documentation/Building-Wieting-Guild-Pages/0198.png itemprop=contentUrl></a><figcaption><h4>Figure 18 &#183; Follow a provided link to open the site in your browser</h4></figcaption></figure></div><p>Our inital local site is now visible in our browser, and it looks good! I used <code>CTRL-C</code> in the <em>VSCode</em> terminal to stop the local site as you see in <em>Figure 20</em> below.</p><div class=box><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><div class=img><img itemprop=thumbnail src=https://sddocs.blob.core.windows.net/documentation/Building-Wieting-Guild-Pages/0201.png></div><a href=https://sddocs.blob.core.windows.net/documentation/Building-Wieting-Guild-Pages/0201.png itemprop=contentUrl></a><figcaption><h4>Figure 19 &#183; Initial local site</h4></figcaption></figure></div><div class=box><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><div class=img><img itemprop=thumbnail src=https://sddocs.blob.core.windows.net/documentation/Building-Wieting-Guild-Pages/0203.png></div><a href=https://sddocs.blob.core.windows.net/documentation/Building-Wieting-Guild-Pages/0203.png itemprop=contentUrl></a><figcaption><h4>Figure 20 &#183; <code>CTRL-C</code> stops the local <code>11ty</code> web server</h4></figcaption></figure></div><h2 id=creating-the-azure-static-web-app>Creating the Azure Static Web App</h2><p>Next, I returned to my <em>Azure</em> portal to create a new <em>Azure Static Web App</em> from our new repo. The process begins by navigating a browser window to the <em>Azure</em> portal and <code>Azure services</code>, <code>Static Web Apps</code>, and <code>+ Create</code> as shown below in <em>Figure 21</em>.</p><div class=box><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><div class=img><img itemprop=thumbnail src=https://sddocs.blob.core.windows.net/documentation/Building-Wieting-Guild-Pages/0216.png></div><a href=https://sddocs.blob.core.windows.net/documentation/Building-Wieting-Guild-Pages/0216.png itemprop=contentUrl></a><figcaption><h4>Figure 21 &#183; Initial steps to create an <em>Azure Static Web App</em></h4></figcaption></figure></div><p>I gave my web app a name, in this case <code>wieting-guild-pages</code>, which matches the name of my <em>GitHub</em> repo. Matching these names is recommended, but NOT a requirement! Other parameters of the app are as shown in <em>Figure 22</em> below.</p><div class=box><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><div class=img><img itemprop=thumbnail src=https://sddocs.blob.core.windows.net/documentation/Building-Wieting-Guild-Pages/0228.png></div><a href=https://sddocs.blob.core.windows.net/documentation/Building-Wieting-Guild-Pages/0228.png itemprop=contentUrl></a><figcaption><h4>Figure 22 &#183; Web app name and parameters</h4></figcaption></figure></div><p>In the lower half of the <code>Create Static Web App</code> screen the required selections for <code>Organization</code>, <code>Repository</code>, <code>Branch</code> and <code>Build presents</code> are as shown in <em>Figure 23</em>. Leave the default values for <code>App location</code> and <code>Api location</code>, and specify an <code>Output location</code> of <code>public</code>. You may recall that in <em>Figure 16</em> we saw that <code>public</code> is the name of the folder where the <code>11ty</code> site is built.</p><p>Click <code>Review + create</code> to proceed.</p><div class=box><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><div class=img><img itemprop=thumbnail src=https://sddocs.blob.core.windows.net/documentation/Building-Wieting-Guild-Pages/0258.png></div><a href=https://sddocs.blob.core.windows.net/documentation/Building-Wieting-Guild-Pages/0258.png itemprop=contentUrl></a><figcaption><h4>Figure 23 &#183; Complete static app parameters</h4></figcaption></figure></div><p>The <em>Azure</em> window should change to reflect that the new app is being validated and the <code>Create</code> button in the lower-left corner becomes available once validation is complete. Clicking the <code>Create</code> button shown in <em>Figure 24</em> starts the creation and deployment process.</p><div class=box><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><div class=img><img itemprop=thumbnail src=https://sddocs.blob.core.windows.net/documentation/Building-Wieting-Guild-Pages/0274.png></div><a href=https://sddocs.blob.core.windows.net/documentation/Building-Wieting-Guild-Pages/0274.png itemprop=contentUrl></a><figcaption><h4>Figure 24 &#183; App validation and creation</h4></figcaption></figure></div><p>The <em>Azure</em> portal screen for the new app shows <code>...Deployment is in progress</code>. The deployment could take a minute or two.</p><div class=box><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><div class=img><img itemprop=thumbnail src=https://sddocs.blob.core.windows.net/documentation/Building-Wieting-Guild-Pages/0277.png></div><a href=https://sddocs.blob.core.windows.net/documentation/Building-Wieting-Guild-Pages/0277.png itemprop=contentUrl></a><figcaption><h4>Figure 25 &#183; Deployment is in progress</h4></figcaption></figure></div><p>Once the initial deployment is complete the window will change to indicate the progress. An option to <code>Pin to dashboard</code> is displayed and I recommend doing so. Then click <code>Go to resource</code>.</p><div class=box><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><div class=img><img itemprop=thumbnail src=https://sddocs.blob.core.windows.net/documentation/Building-Wieting-Guild-Pages/0280.png></div><a href=https://sddocs.blob.core.windows.net/documentation/Building-Wieting-Guild-Pages/0280.png itemprop=contentUrl></a><figcaption><h4>Figure 26 &#183; Deployment is complete</h4></figcaption></figure></div><p><code>Go to resource</code> opens the app&rsquo;s overview page where you should see key information as marked with yellow boxes in <em>Figure 27</em> below. Use the <code>URL</code> link on the right to open the new <em>Azure</em> web app site in your browser.</p><div class=box><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><div class=img><img itemprop=thumbnail src=https://sddocs.blob.core.windows.net/documentation/Building-Wieting-Guild-Pages/0291.png></div><a href=https://sddocs.blob.core.windows.net/documentation/Building-Wieting-Guild-Pages/0291.png itemprop=contentUrl></a><figcaption><h4>Figure 27 &#183; New app overview and link</h4></figcaption></figure></div><p>The site should open in your browser but it may not display any content. Instead you may see a warning page indicating that the site/app is ready, but has no content. This is because the initial deployment of the app wasn&rsquo;t preceeded by an <code>npm build</code> command. To force a rebuild you should visit the local project in <em>VSCode</em>, make a change to some piece of content, and commit/push that change to <em>GitHub</em>. Each time you complete a change sequence like that the <code>GitHub Action</code> that was created earlier (see the <code>Edit workflow</code> link in <em>Figure 27</em> above) will automatically build and re-deploy the app.</p><h2 id=pushing-changes-to-rebuild-the-site>Pushing Changes to Rebuild the Site</h2><p>I began this part of the workflow by returning to my <em>VSCode</em> project terminal where I did a <code>git pull</code> command to update the local repo with any remote changes. This should pull in one critical addition to the project, the <code>GitHub Action</code> workflow <code>.yml</code> file as you can see in <em>Figure 28</em> below.</p><div class=box><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><div class=img><img itemprop=thumbnail src=https://sddocs.blob.core.windows.net/documentation/Building-Wieting-Guild-Pages/0307.png></div><a href=https://sddocs.blob.core.windows.net/documentation/Building-Wieting-Guild-Pages/0307.png itemprop=contentUrl></a><figcaption><h4>Figure 28 &#183; <code>git pull</code> remote changes</h4></figcaption></figure></div><p>I choose to open the <code>index.md</code> file in the project&rsquo;s <code>./src</code> directory &ndash; this is essentially the site&rsquo;s &ldquo;home&rdquo; page as markdown content &ndash; where I changed the original title to &ldquo;Wieting Guild Pages&rdquo;.</p><div class=box><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><div class=img><img itemprop=thumbnail src=https://sddocs.blob.core.windows.net/documentation/Building-Wieting-Guild-Pages/0319.png></div><a href=https://sddocs.blob.core.windows.net/documentation/Building-Wieting-Guild-Pages/0319.png itemprop=contentUrl></a><figcaption><h4>Figure 29 &#183; Changing the <code>title:</code> in <code>/src/index.md</code></h4></figcaption></figure></div><p>With the change completed I moved into the <em>VSCode</em> terminal for a typical <code>git add .</code>, <code>git commit -m...</code> and <code>git push</code> command sequence as shown in <em>Figure 30</em> below.</p><div class=box><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><div class=img><img itemprop=thumbnail src=https://sddocs.blob.core.windows.net/documentation/Building-Wieting-Guild-Pages/0333.png></div><a href=https://sddocs.blob.core.windows.net/documentation/Building-Wieting-Guild-Pages/0333.png itemprop=contentUrl></a><figcaption><h4>Figure 30 &#183; Add, commit and push the changes</h4></figcaption></figure></div><p>I immediately switched back to my <em>Azure</em> app&rsquo;s overview screen where I clicked on the <code>GitHub Action runs</code> link under <code>Deployment history</code>. That opens a window showing the <em>GitHub</em> project&rsquo;s <code>Actions</code> tab where a spinning yellow dot in front of the commit name (in this case it was <code>First push to rebuild</code>) indicates that the <em>GitHub Action</em> workflow is underway.</p><div class=box><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><div class=img><img itemprop=thumbnail src=https://sddocs.blob.core.windows.net/documentation/Building-Wieting-Guild-Pages/0342.png></div><a href=https://sddocs.blob.core.windows.net/documentation/Building-Wieting-Guild-Pages/0342.png itemprop=contentUrl></a><figcaption><h4>Figure 31 &#183; Using the <code>GitHub Action runs</code> link to view progress</h4></figcaption></figure></div><div class=box><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><div class=img><img itemprop=thumbnail src=https://sddocs.blob.core.windows.net/documentation/Building-Wieting-Guild-Pages/0345.png></div><a href=https://sddocs.blob.core.windows.net/documentation/Building-Wieting-Guild-Pages/0345.png itemprop=contentUrl></a><figcaption><h4>Figure 32 &#183; GitHub Action workflow in progress</h4></figcaption></figure></div><p>When the yellow spinning dot turns to a green checkmark, as you see in <em>Figure 33</em>, the <em>GitHub Action</em> is complete and was a success.</p><div class=box><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><div class=img><img itemprop=thumbnail src=https://sddocs.blob.core.windows.net/documentation/Building-Wieting-Guild-Pages/0386.png></div><a href=https://sddocs.blob.core.windows.net/documentation/Building-Wieting-Guild-Pages/0386.png itemprop=contentUrl></a><figcaption><h4>Figure 33 &#183; GitHub Action was successful</h4></figcaption></figure></div><p>Now, returning to the app&rsquo;s <em>Azure</em> overview shows a <code>Browse</code> button and an address/link to the newly deployed site on the right. Clicking either of these elements should open the new site.</p><div class=box><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><div class=img><img itemprop=thumbnail src=https://sddocs.blob.core.windows.net/documentation/Building-Wieting-Guild-Pages/0403.png></div><a href=https://sddocs.blob.core.windows.net/documentation/Building-Wieting-Guild-Pages/0403.png itemprop=contentUrl></a><figcaption><h4>Figure 34 &#183; Opening the site from the app&rsquo;s overview screen</h4></figcaption></figure></div><p>The edits shown previously in <em>Figure 30</em> should now be visible in the updated site. Huzzah! ðŸŽ‰</p><div class=box><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><div class=img><img itemprop=thumbnail src=https://sddocs.blob.core.windows.net/documentation/Building-Wieting-Guild-Pages/0404.png></div><a href=https://sddocs.blob.core.windows.net/documentation/Building-Wieting-Guild-Pages/0404.png itemprop=contentUrl></a><figcaption><h4>Figure 35 &#183; Success!</h4></figcaption></figure></div><hr><p>I hope you find portions of this very detailed post to be useful. I&rsquo;m sure there will soon be some follow-up to this, but for this installment&mldr; That&rsquo;s a wrap!</p></div><div class=post-footer><div id=disqus_thread></div><script>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//digital-library-applications-developer-blog.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div></article></main></body></html>
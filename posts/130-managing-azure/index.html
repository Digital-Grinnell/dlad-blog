<!doctype html><html lang=en-us><head><title>Managing Azure // The Grinnell College Digital Library Application Developer's Blog</title><meta charset=utf-8><meta name=generator content="Hugo 0.111.3"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content="Mark A. McFate"><meta name=description content><link rel=stylesheet href=https://static.grinnell.edu/dlad-blog/css/main.min.bc1abb622a656fb4c816fed09d36c15e272b31b7beae2e7113b2f9418bff0361.css><script type=text/javascript src=https://static.grinnell.edu/dlad-blog/js/pdf-js/build/pdf.js></script><meta name=twitter:card content="summary"><meta name=twitter:title content="Managing Azure"><meta name=twitter:description content="For the past couple years I/we have been experimenting with moving digital content to Azure, both for storage and as a web app host. The most prominent case is with regard to Rootstalk where Azure currently supports two (recently down from three) static development apps as well as a storage account. All such services are part of a personal* Azure subscription opened under the digital@grinnell.edu email address.
*I call this a &ldquo;personal&rdquo; account because charges for it are currently billed to my own credit card, a situation that will need to be changed sometime relatively soon."><meta property="og:title" content="Managing Azure"><meta property="og:description" content="For the past couple years I/we have been experimenting with moving digital content to Azure, both for storage and as a web app host. The most prominent case is with regard to Rootstalk where Azure currently supports two (recently down from three) static development apps as well as a storage account. All such services are part of a personal* Azure subscription opened under the digital@grinnell.edu email address.
*I call this a &ldquo;personal&rdquo; account because charges for it are currently billed to my own credit card, a situation that will need to be changed sometime relatively soon."><meta property="og:type" content="article"><meta property="og:url" content="https://static.grinnell.edu/dlad-blog/posts/130-managing-azure/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-10-19T00:00:00+00:00"><meta property="article:modified_time" content="2022-10-19T00:00:00+00:00"><script>var _paq=window._paq=window._paq||[];_paq.push(["trackPageView"]),_paq.push(["enableLinkTracking"]),function(){e="https://analytics.summittservices.com/",_paq.push(["setTrackerUrl",e+"matomo.php"]),_paq.push(["setSiteId","16"]);var e,n=document,t=n.createElement("script"),s=n.getElementsByTagName("script")[0];t.async=!0,t.src=e+"matomo.js",s.parentNode.insertBefore(t,s)}()</script></head><body><header class=app-header><a href=https://static.grinnell.edu/dlad-blog/><img class=app-header-avatar src=https://static.grinnell.edu/dlad-blog/avatar.jpg alt="Mark A. McFate"></a><h2>The Grinnell College Digital Library Application Developer's Blog</h2><div class=author-block><p class=site-rev>Compiled: Mar 23, 2023 at 5:29pm CDT<br>Content Updated: 2023-Mar-17 08:25 CDT</p><div class=name>by
<strong>Mark A. McFate</strong></div><div class=address>Grinnell College Libraries</div><div class=link><a href=mailto:></a></div><br></div><nav class=sidebar-nav><a class=sidebar-nav-item href=https://static.grinnell.edu/dlad-blog/search/ title>Search This Blog</a>
<a class=sidebar-nav-item href=https://static.grinnell.edu/dlad-blog/about/ title>About Me</a></nav><p class=site-description>Mark&rsquo;s first Hugo site, a blog, formerly on prem at Static.Grinnell.edu, moved to <em>DigitalOcean</em>, then to <em>Azure</em>, and now hosted on <em>GitHub Pages</em>.</p><div class=app-header-social><a target=_blank href=https://github.com/McFateM><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-github"><title>github</title><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg></a><a target=_blank href=https://twitter.com/gohugoio><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-twitter"><title>twitter</title><path d="M23 3a10.9 10.9.0 01-3.14 1.53 4.48 4.48.0 00-7.86 3v1A10.66 10.66.0 013 4s-4 9 5 13a11.64 11.64.0 01-7 2c9 5 20 0 20-11.5a4.5 4.5.0 00-.08-.83A7.72 7.72.0 0023 3z"/></svg></a></div><p class=copyright>The views and opinions expressed on this site belong solely to the original author(s) and do not necessarily represent or reflect those of Grinnell College.</p></header><main class=app-container><div class=breadcrumbs><a href=https://static.grinnell.edu/dlad-blog/>Home</a>
&bull; <a href=https://static.grinnell.edu/dlad-blog/posts/>Posts</a>
&bull; <a href=https://static.grinnell.edu/dlad-blog/posts/130-managing-azure/>130 managing azure</a></div><article class=post><header class=post-header><h1 class=post-title>Managing Azure</h1><div class=post-meta><script>console.log("Hugo Debug: ",JSON.parse('"2022-10-20T00:00:00Z"'))</script><script>console.log("Hugo Debug: ",JSON.parse('"2022-10-19T00:00:00Z"'))</script><div><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-clock"><title>clock</title><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>6 min read
&nbsp;&nbsp;&bull;&nbsp;&nbsp;<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-calendar"><title>calendar</title><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>
Oct 19, 2022
&nbsp;&nbsp;&bull;&nbsp;&nbsp;<strong><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-at-sign"><title>at-sign</title><circle cx="12" cy="12" r="4"/><path d="M16 8v5a3 3 0 006 0v-1a10 10 0 10-3.92 7.94"/></svg> Mark A. McFate</strong><div><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tag"><title>tag</title><path d="M20.59 13.41l-7.17 7.17a2 2 0 01-2.83.0L2 12V2h10l8.59 8.59a2 2 0 010 2.82z"/><line x1="7" y1="7" x2="7.01" y2="7"/></svg><a class=tag href=https://static.grinnell.edu/dlad-blog/tags/azure/>Azure</a><a class=tag href=https://static.grinnell.edu/dlad-blog/tags/storage/>//Storage</a><a class=tag href=https://static.grinnell.edu/dlad-blog/tags/blob/>blob</a></div></div></header><div class=post-content><p>For the past couple years I/we have been experimenting with moving digital content to <em>Azure</em>, both for storage and as a web app host. The most prominent case is with regard to <em>Rootstalk</em> where <em>Azure</em> currently supports two (recently down from three) static development apps as well as a storage account. All such services are part of a personal* <em>Azure</em> subscription opened under the <a href=mailto:digital@grinnell.edu>digital@grinnell.edu</a> email address.</p><p>*I call this a &ldquo;personal&rdquo; account because charges for it are currently billed to my own credit card, a situation that will need to be changed sometime relatively soon. Fortunately, charges thus far have not exceeded $0.15 per month.</p><h2 id=terminology>Terminology</h2><p><em>Azure</em> terminology seems a little odd in places, but it&rsquo;s not too much of a departure from other providers of cloud services. So that we might properly understand things I think it wise to share <a href=https://learn.microsoft.com/en-us/azure/azure-glossary-cloud-terminology>Microsoft Azure glossary: A dictionary of cloud terminology on the Azure platform</a>. I don&rsquo;t expect these definitions to change, but for easy reference the terms used most often in this document are listed here:</p><ul><li><p><a href=https://learn.microsoft.com/en-us/azure/azure-glossary-cloud-terminology#account>account</a> - An account that&rsquo;s used to access and manage an Azure subscription. It&rsquo;s often referred to as an Azure account although an account can be any of these: an existing work, school, or personal Microsoft account. You can also create an account to manage an Azure subscription when you sign up for the free trial.</p></li><li><p><a href=https://learn.microsoft.com/en-us/azure/azure-glossary-cloud-terminology#portal>portal</a> - The secure web portal used to deploy and manage Azure services.</p></li><li><p><a href=https://learn.microsoft.com/en-us/azure/azure-glossary-cloud-terminology#resource>resource</a> - An item that is part of your Azure solution. Each Azure service enables you to deploy different types of resources, such as databases or virtual machines.</p></li><li><p><a href=https://learn.microsoft.com/en-us/azure/azure-glossary-cloud-terminology#resource-group>resource group</a> - A container in Resource Manager that holds related resources for an application. The resource group can include all of the resources for an application, or only those resources that are logically grouped together. You can decide how you want to allocate resources to resource groups based on what makes the most sense for your organization.</p></li><li><p><a href=https://learn.microsoft.com/en-us/azure/azure-glossary-cloud-terminology#storage-account>storage account</a> - An account that gives you access to the Azure Blob, Queue, Table, and File services in Azure Storage. The storage account name defines the unique namespace for Azure Storage data objects.</p></li><li><p><a href=https://learn.microsoft.com/en-us/azure/azure-glossary-cloud-terminology#subscription>subscription</a> - A customer&rsquo;s agreement with Microsoft that enables them to obtain Azure services. The subscription pricing and related terms are governed by the offer chosen for the subscription.</p></li></ul><h2 id=azure-home---my-portal>Azure Home - My Portal</h2><p>At present the account&rsquo;s &ldquo;home&rdquo; or <a href=https://portal.azure.com/#home>portal</a> looks like this:</p><link rel=stylesheet href=https://static.grinnell.edu/dlad-blog/css/hugo-easy-gallery.css><div class=box><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><div class=img><img itemprop=thumbnail src=https://static.grinnell.edu/dlad-blog/images/post-130/azure-account-portal.png></div><a href=https://static.grinnell.edu/dlad-blog/images/post-130/azure-account-portal.png itemprop=contentUrl></a><figcaption><h4>Figure 1 &#183; Azure Account Portal</h4></figcaption></figure></div><p>As you can see in the image, the portal lists 8 resources including:</p><ul><li>4 static web apps (3 for <em>Rootstalk</em> and one for <em>CollectionBuilder</em>),</li><li>2 storage accounts (one for <em>Rootstalk</em> and one for <em>CollectionBuilder</em>), and</li><li>2 included &ldquo;Resource group&rdquo; types.</li></ul><h2 id=removing-a-resource-and-renaming-a-subscription>Removing a Resource and Renaming a Subscription</h2><p>Before going farther I need to do a little cleanup in the account. Specifically, the <code>rootstalk-gokcebel</code> static web add can be removed, and the subscription name of <code>Azure subscription 1</code> should be changed to something more meaningful.</p><h3 id=rootstalk-gokcebel>rootstalk-gokcebel</h3><p>Clicking the <code>rootstalk-gokcebel</code> link in the portal took me to the screen shown in the figure below. Since this resource is no longer needed, it was recently replaced by <code>rootstalk-develop</code>, I&rsquo;ll just use the <code>Delete</code> icon to remove it.</p><div class=box><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><div class=img><img itemprop=thumbnail src=https://static.grinnell.edu/dlad-blog/images/post-130/deleting-a-resource.png></div><a href=https://static.grinnell.edu/dlad-blog/images/post-130/deleting-a-resource.png itemprop=contentUrl></a><figcaption><h4>Figure 2 &#183; Deleting a Resource</h4></figcaption></figure></div><p>To complete the deletion I had to follow-through when prompted with this confirmation screen you see below. Thankfully, the message was very helpful.</p><div class=box><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><div class=img><img itemprop=thumbnail src=https://static.grinnell.edu/dlad-blog/images/post-130/resource-delete-confirmation.png></div><a href=https://static.grinnell.edu/dlad-blog/images/post-130/resource-delete-confirmation.png itemprop=contentUrl></a><figcaption><h4>Figure 3 &#183; Confirming Deletion</h4></figcaption></figure></div><p>The <code>rootstalk-gokcebel</code> resource is still present in my portal view minutes after the deletion, but clicking on the resource link now takes me to a &ldquo;Resource not found&rdquo; screen.</p><h3 id=azure-subscription-1>Azure subscription 1</h3><p>I really needed a better name than <code>Azure subscription 1</code> for my subscription, so I did some searching on the web and found the blurb shown in the figure below. I also suspect the document it comes from, <a href=https://learn.microsoft.com/en-us/azure/cost-management-billing/manage/change-azure-account-profile>Change contact information for an Azure billing account</a>, will come in handy later when I hope to transfer ownership of and billing for the account to the Grinnell College Libraries.</p><div class=box><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><div class=img><img itemprop=thumbnail src=https://static.grinnell.edu/dlad-blog/images/post-130/change-subscription-name.png></div><a href=https://static.grinnell.edu/dlad-blog/images/post-130/change-subscription-name.png itemprop=contentUrl></a><figcaption><h4>Figure 4 &#183; Confirming Deletion</h4></figcaption></figure></div><p>Unfortunately, that guideance did NOT work! So I stumbled through a few screens and eventually got it done. The pages I visited along the way were:</p><ul><li><a href=https://portal.azure.com/#allservices/category/All>All services</a>,</li><li><a href=https://portal.azure.com/#view/Microsoft_Azure_Billing/SubscriptionsBlade>Subscriptions</a>, and</li><li><a href=https://portal.azure.com/#@grinco.onmicrosoft.com/resource/subscriptions/609af5e3-a5d8-4ff9-968f-6524767a4dbe/overview>Azure subscription 1</a></li></ul><p>On that last page I found a <a href=https://portal.azure.com/#view/Microsoft_Azure_Billing/SubscriptionRenameBlade/subscriptionId/609af5e3-a5d8-4ff9-968f-6524767a4dbe>Rename icon</a> that took me to a very simple page where I changed the subscription name to <code>mcfatem - Digital@Grinnell.edu Personal Subscription</code>. The name change took only a minute or so to show up in my <a href=https://portal.azure.com/#home>portal</a> after refreshing my browser. 😄</p><h2 id=creating-a-new-storage-account>Creating a New Storage Account</h2><p>I have a newly-exported <code>migration-test</code> collection of digital content from <a href=https://digital.grinnell.edu>Digital.Grinnell</a> and some of the exported files need a web-addressable blob storage home in the cloud. So, I used the guidance provided in <a href=https://learn.microsoft.com/en-us/azure/azure-resource-manager/management/manage-resource-groups-portal#create-resource-groups>Create resource groups</a> and <a href="https://learn.microsoft.com/en-us/azure/storage/common/storage-account-create?tabs=azure-portal">Create a storage account</a> to make a space for that content.</p><p>The new resource group I named <code>migration-test</code> and in it is a new storage account named <code>migrationtestcollection</code>. I accepted all of the defaults when creating the storage account. Unfortunately, <em>Azure</em> naming rules for storage accounts are VERY restrictive, so this name was the best I could do. 😦</p><h2 id=engaging-_azure-storage-explorer_>Engaging <em>Azure Storage Explorer</em></h2><p>I&rsquo;ve been using the <em>Azure Storage Explorer</em>* (ASE) app on my MacBook quite a bit lately, so I&rsquo;ll return there to get the new <code>migration-test</code> collection digital objects, the <code>OBJ</code> files, from <code>smb://storage.grinnell.edu/library/allstaff/DG-migration-test</code> network storage to the new <code>migrationtestcollection</code> <em>Azure</em> storage. In the app I tunneled down into the new <code>migrationtestcollection</code> storage account and right-clicked on <code>Blob Containers</code> to create a new one as shown in the figure below.</p><p>*<em>Note that in ASE my account still appears as <code>Azure subscription 1 (Digital@grinnell.edu)</code> no matter how many times I close and re-open the app.</em> 😦</p><div class=box><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><div class=img><img itemprop=thumbnail src=https://static.grinnell.edu/dlad-blog/images/post-130/new-blob-container.png></div><a href=https://static.grinnell.edu/dlad-blog/images/post-130/new-blob-container.png itemprop=contentUrl></a><figcaption><h4>Figure 5 &#183; Confirming Deletion</h4></figcaption></figure></div><p>The new blob container name is <code>migration-test</code> and I&rsquo;m able to select it and use the <code>Upload</code> menu item to select and upload all of the <code>grinnell_*_OBJ.*</code> files from aforementioned network storage. The process took less than a minute and left me with 29 stored digital objects.</p><p>At the time of this writing the container looked like the figure below when viewed in <em>Azure Storage Explorer</em>.</p><div class=box><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><div class=img><img itemprop=thumbnail src=https://static.grinnell.edu/dlad-blog/images/post-130/migration-test-container.png></div><a href=https://static.grinnell.edu/dlad-blog/images/post-130/migration-test-container.png itemprop=contentUrl></a><figcaption><h4>Figure 6 &#183; ASE View of the <code>migration-test</code> Container</h4></figcaption></figure></div><p>I also created a new <code>migration-test-metadata</code> blob container and populated it with all of the other files from <code>smb://storage.grinnell.edu/library/allstaff/DG-migration-test</code>. There are now 53 files stored in that container.</p><h2 id=web-addressable-objects>Web-Addressable Objects</h2><p>All of the content in the new blob containers should be web-addressable, and a right-click on any file will allow you to see/copy the object&rsquo;s URL and/or path. For example:</p><ul><li><a href=https://migrationtestcollection.blob.core.windows.net/migration-test/grinnell_10020_OBJ.pdf>grinnell_10020_OBJ.pdf</a> has a URL of <a href=https://migrationtestcollection.blob.core.windows.net/migration-test/grinnell_10020_OBJ.pdf>https://migrationtestcollection.blob.core.windows.net/migration-test/grinnell_10020_OBJ.pdf</a></li><li><a href=https://migrationtestcollection.blob.core.windows.net/migration-test-metadata/grinnell_10020_MODS.xml>grinnell_10020_MODS.xml</a> has a URL of <a href=https://migrationtestcollection.blob.core.windows.net/migration-test-metadata/grinnell_10020_MODS.xml>https://migrationtestcollection.blob.core.windows.net/migration-test-metadata/grinnell_10020_MODS.xml</a></li></ul><p>Note that both the storage account name, <code>migrationtestcollection</code>, and the name of the parent blob container is present, and is consistently included in each URL.</p><h2 id=a-new-jekyll-site-in-azure-or-reclaim-cloud>A New Jekyll Site in Azure or Reclaim Cloud?</h2><p>This afternoon I plan to take a big bite out of <a href=https://learn.microsoft.com/en-us/azure/static-web-apps/publish-jekyll>Tutorial: Publish a Jekyll site to Azure Static Web Apps</a> and maybe a look at <a href=https://reclaimhosting.com/category/jekyll/>Category: jekyll</a> as well.</p><hr><p>That&rsquo;s a wrap for now. Look for more content here as I continue to expand the role of <em>Azure</em> across the <a href=https://digital.grinnell.edu>Digital.Grinnell</a> landscape.</p></div><div class=post-footer><div id=disqus_thread></div><script type=application/javascript>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//digital-library-applications-developer-blog.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div></article></main></body></html>
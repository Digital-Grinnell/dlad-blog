<!doctype html><html lang=en-us>
<head>
<title>Free Ports 80 and 8080 in OSX // The Grinnell College Digital Library Application Developer's Blog</title>
<meta charset=utf-8>
<meta name=generator content="Hugo 0.92.2">
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=author content="Mark A. McFate">
<meta name=description content>
<link rel=stylesheet href=https://static.grinnell.edu/dlad-blog/css/main.min.a0a90779d7d7dc7111202c97d61bd4963b7236dd704adac1f03ff9f07a45d022.css>
<meta name=twitter:card content="summary">
<meta name=twitter:title content="Free Ports 80 and 8080 in OSX">
<meta name=twitter:description content="Ok, this is info I should have documented here a long, long time ago. For many months now this tidbit of wisdom has lived on a post-it in my office. Not the best strategy for someone who works from home and travels a lot.
Apparently OSX ships with built-in Apache and/or NGINX servers, presumably to facilitate creation of web content that&rsquo;s local to the machine. Well, in my Dockerized workflows those port assignments typically get in the way. When they do, like when I do a fin up to launch a local development project using Docksal, I see error messages like the following in my terminal:">
<meta property="og:title" content="Free Ports 80 and 8080 in OSX">
<meta property="og:description" content="Ok, this is info I should have documented here a long, long time ago. For many months now this tidbit of wisdom has lived on a post-it in my office. Not the best strategy for someone who works from home and travels a lot.
Apparently OSX ships with built-in Apache and/or NGINX servers, presumably to facilitate creation of web content that&rsquo;s local to the machine. Well, in my Dockerized workflows those port assignments typically get in the way. When they do, like when I do a fin up to launch a local development project using Docksal, I see error messages like the following in my terminal:">
<meta property="og:type" content="article">
<meta property="og:url" content="https://static.grinnell.edu/dlad-blog/posts/018-free-ports-80-and-8080-in-osx/"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2019-06-07T00:00:00+00:00">
<meta property="article:modified_time" content="2019-06-07T00:00:00+00:00">
</head>
<body>
<header class=app-header>
<a href=https://static.grinnell.edu/dlad-blog/><img class=app-header-avatar src=https://static.grinnell.edu/dlad-blog/avatar.jpg alt="Mark A. McFate"></a>
<h2>The Grinnell College Digital Library Application Developer's Blog</h2>
<div class=author-block>
<p class=site-rev>
Compiled: Feb 15, 2022 at 8:35am CST<br>
Content Updated: 2022-Feb-14 00:00 UTC
</p>
<div class=name>by
<strong>Mark A. McFate</strong></div>
<div class=address>Grinnell College Libraries</div>
<div class=link><a href=mailto:></a></div>
<br>
</div>
<nav class=sidebar-nav>
<a class=sidebar-nav-item href=https://static.grinnell.edu/dlad-blog/search/ title>Search This Blog</a>
<a class=sidebar-nav-item href=https://static.grinnell.edu/dlad-blog/about/ title>About Me</a>
</nav>
<p class=site-description>Mark's first Hugo site, a blog, formerly at Static.Grinnell.edu, moved to DigitalOcean, and now hosted on Azure.</p>
<div class=app-header-social>
<a target=_blank href=https://github.com/McFateM><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-github"><title>github</title><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg></a>
<a target=_blank href=https://twitter.com/gohugoio><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-twitter"><title>twitter</title><path d="M23 3a10.9 10.9.0 01-3.14 1.53 4.48 4.48.0 00-7.86 3v1A10.66 10.66.0 013 4s-4 9 5 13a11.64 11.64.0 01-7 2c9 5 20 0 20-11.5a4.5 4.5.0 00-.08-.83A7.72 7.72.0 0023 3z"/></svg></a>
</div>
<p class=copyright>The views and opinions expressed on this site belong solely to the original author(s) and do not necessarily represent or reflect those of Grinnell College.</p>
</header>
<main class=app-container>
<div class=breadcrumbs>
<a href=https://static.grinnell.edu/dlad-blog/>Home</a>
&bull; <a href=https://static.grinnell.edu/dlad-blog/posts/>Posts</a>
&bull; <a href=https://static.grinnell.edu/dlad-blog/posts/018-free-ports-80-and-8080-in-osx/>018 free ports 80 and 8080 in osx</a>
</div>
<article class=post>
<header class=post-header>
<h1 class=post-title>Free Ports 80 and 8080 in OSX</h1>
<div class=post-meta>
<div><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-clock"><title>clock</title><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
2 min read
&nbsp;&nbsp;&bull;&nbsp;&nbsp;<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-calendar"><title>calendar</title><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>
Jun 7, 2019
&nbsp;&nbsp;&bull;&nbsp;&nbsp;<strong><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-at-sign"><title>at-sign</title><circle cx="12" cy="12" r="4"/><path d="M16 8v5a3 3 0 006 0v-1a10 10 0 10-3.92 7.94"/></svg> Mark A. McFate</strong>
</div>
</header>
<div class=post-content>
<p>Ok, this is info I should have documented here a long, long time ago. For many months now this tidbit of wisdom has lived on a post-it in my office. Not the best strategy for someone who works from home and travels a lot.</p>
<p>Apparently OSX ships with built-in <a href=https://https://httpd.apache.org/>Apache</a> and/or <a href=https://www.nginx.com/resources/wiki/>NGINX</a> servers, presumably to facilitate creation of web content that&rsquo;s local to the machine. Well, in my Dockerized workflows those port assignments typically get in the way. When they do, like when I do a <code>fin up</code> to launch a local development project using <a href=https://docksal.io>Docksal</a>, I see error messages like the following in my terminal:</p>
<pre tabindex=0><code>docker: Error response from daemon: driver failed programming external connectivity on endpoint docksal-vhost-proxy (4b78f8d326c8461a2c6896f0def4491c9d115feeee3680da1f3a5285a707aa08): Error starting userland proxy: Bind for 192.168.64.100:8080 failed: port is already allocated.  
</code></pre><p>Errors like this simply indicate that something, a process or service (container), is already listening on the indicated port. Frequently that &lsquo;something&rsquo; is the aforementioned built-in &lsquo;Apache&rsquo; or &lsquo;NGINX&rsquo; web server on my Mac.</p>
<h3 id=disabling-osx-built-in-web-servers>Disabling OSX Built-In Web Servers</h3>
<p>There is a simple fix&mldr; in my Mac terminal I simply need to enter:</p>
<pre tabindex=0><code>sudo apachectl stop
sudo nginx -s stop
</code></pre><h3 id=changing-docksal-proxy-port-assignments>Changing Docksal Proxy Port Assignments</h3>
<p>Docksal itself can also get in the way because by default its proxy service listens locally on ports 80 and 443. In cases like my <a href=https://github.com/McFateM/omeka-s-docker>omeka-s-docker</a> project, I needed my <a href=https://omeka.org/s/>Omeka</a> service listening on port 80.</p>
<p>Fortunately, there is another simple fix, and it&rsquo;s nicely documented <a href=https://blog.docksal.io/how-to-override-default-http-and-https-ports-in-docksal-f4d5a96fced4>in this post</a>. In my Omeka case I simply added the following lines to the <code>.docksal/docksal.env</code> file in the project directory:</p>
<pre tabindex=0><code>DOCKSAL_VHOST_PROXY_PORT_HTTP=8080
DOCKSAL_VHOST_PROXY_PORT_HTTPS=8443
</code></pre><p>These variable settings instruct the Docksal proxy to listen on ports 8080 and 8443, making ports 80 and 443 available for my Omeka service.</p>
<p>And that&rsquo;s a wrap. Until next time&mldr;</p>
</div>
<div class=post-footer>
<div id=disqus_thread></div>
<script type=application/javascript>var disqus_config=function(){};(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById('disqus_thread').innerHTML='Disqus comments not available by default when the website is previewed locally.';return}var b=document,a=b.createElement('script');a.async=!0,a.src='//digital-library-applications-developer-blog.disqus.com/embed.js',a.setAttribute('data-timestamp',+new Date),(b.head||b.body).appendChild(a)})()</script>
<noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript>
<a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a>
</div>
</article>
</main>
</body>
</html>
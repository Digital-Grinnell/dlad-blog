<!doctype html><html lang=en-us><head><title>Creating a WARC from a Wordpress Clone // The Grinnell College Digital Library Application Developer's Blog</title><meta charset=utf-8><meta name=generator content="Hugo 0.102.3"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content="Mark A. McFate"><meta name=description content><link rel=stylesheet href=https://static.grinnell.edu/dlad-blog/css/main.min.ec5c8abc0625bee34a87b8624d3c683035583f8314d537f8d266c9f01ad58d83.css><script type=text/javascript src=https://static.grinnell.edu/dlad-blog/js/pdf-js/build/pdf.js></script><meta name=twitter:card content="summary"><meta name=twitter:title content="Creating a WARC from a Wordpress Clone"><meta name=twitter:description content="This blog post chronicles portions of a process used to restore and subsequently WARC (the creation of a web archive) a Communication Department website that had been retired. The website content of interest included material describing plans for the recently-completed HSSC and Administration Building projects.
During the restoration and WARC process a .md document named WARC-from-comm.sites.grinnell.edu-clone.md was created and it&rsquo;s contents are presented here.
Creating a WARC from a Clone of comm.sites.grinnell.edu In July 2022 a new &ldquo;clone&rdquo; of the original comm."><meta property="og:title" content="Creating a WARC from a Wordpress Clone"><meta property="og:description" content="This blog post chronicles portions of a process used to restore and subsequently WARC (the creation of a web archive) a Communication Department website that had been retired. The website content of interest included material describing plans for the recently-completed HSSC and Administration Building projects.
During the restoration and WARC process a .md document named WARC-from-comm.sites.grinnell.edu-clone.md was created and it&rsquo;s contents are presented here.
Creating a WARC from a Clone of comm.sites.grinnell.edu In July 2022 a new &ldquo;clone&rdquo; of the original comm."><meta property="og:type" content="article"><meta property="og:url" content="https://static.grinnell.edu/dlad-blog/posts/126-creating-a-warc-from-a-wordpress-clone/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-09-06T00:00:00+00:00"><meta property="article:modified_time" content="2022-09-06T00:00:00+00:00"></head><body><header class=app-header><a href=https://static.grinnell.edu/dlad-blog/><img class=app-header-avatar src=https://static.grinnell.edu/dlad-blog/avatar.jpg alt="Mark A. McFate"></a><h2>The Grinnell College Digital Library Application Developer's Blog</h2><div class=author-block><p class=site-rev>Compiled: Sep 6, 2022 at 9:27pm CDT<br>Content Updated: 2022-Sep-6 00:00 UTC</p><div class=name>by
<strong>Mark A. McFate</strong></div><div class=address>Grinnell College Libraries</div><div class=link><a href=mailto:></a></div><br></div><nav class=sidebar-nav><a class=sidebar-nav-item href=https://static.grinnell.edu/dlad-blog/search/ title>Search This Blog</a>
<a class=sidebar-nav-item href=https://static.grinnell.edu/dlad-blog/about/ title>About Me</a></nav><p class=site-description>Mark's first Hugo site, a blog, formerly at Static.Grinnell.edu, moved to DigitalOcean, and now hosted on Azure.</p><div class=app-header-social><a target=_blank href=https://github.com/McFateM><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-github"><title>github</title><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg></a><a target=_blank href=https://twitter.com/gohugoio><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-twitter"><title>twitter</title><path d="M23 3a10.9 10.9.0 01-3.14 1.53 4.48 4.48.0 00-7.86 3v1A10.66 10.66.0 013 4s-4 9 5 13a11.64 11.64.0 01-7 2c9 5 20 0 20-11.5a4.5 4.5.0 00-.08-.83A7.72 7.72.0 0023 3z"/></svg></a></div><p class=copyright>The views and opinions expressed on this site belong solely to the original author(s) and do not necessarily represent or reflect those of Grinnell College.</p></header><main class=app-container><div class=breadcrumbs><a href=https://static.grinnell.edu/dlad-blog/>Home</a>
&bull; <a href=https://static.grinnell.edu/dlad-blog/posts/>Posts</a>
&bull; <a href=https://static.grinnell.edu/dlad-blog/posts/126-creating-a-warc-from-a-wordpress-clone/>126 creating a warc from a wordpress clone</a></div><article class=post><header class=post-header><h1 class=post-title>Creating a WARC from a Wordpress Clone</h1><div class=post-meta><div><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-clock"><title>clock</title><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>3 min read
&nbsp;&nbsp;&bull;&nbsp;&nbsp;<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-calendar"><title>calendar</title><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>
Sep 6, 2022
&nbsp;&nbsp;&bull;&nbsp;&nbsp;<strong><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-at-sign"><title>at-sign</title><circle cx="12" cy="12" r="4"/><path d="M16 8v5a3 3 0 006 0v-1a10 10 0 10-3.92 7.94"/></svg> Mark A. McFate</strong><div><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tag"><title>tag</title><path d="M20.59 13.41l-7.17 7.17a2 2 0 01-2.83.0L2 12V2h10l8.59 8.59a2 2 0 010 2.82z"/><line x1="7" y1="7" x2="7.01" y2="7"/></svg><a class=tag href=https://static.grinnell.edu/dlad-blog/tags/wordpress/>Wordpress</a><a class=tag href=https://static.grinnell.edu/dlad-blog/tags/warc/>WARC</a><a class=tag href=https://static.grinnell.edu/dlad-blog/tags/comm.sites.grinnell.edu/>comm.sites.grinnell.edu</a></div></div></header><div class=post-content><p>This blog post chronicles portions of a process used to restore and subsequently WARC (the creation of a web archive) a Communication Department website that had been retired. The website content of interest included material describing plans for the recently-completed HSSC and Administration Building projects.</p><p>During the restoration and WARC process a <code>.md</code> document named <code>WARC-from-comm.sites.grinnell.edu-clone.md</code> was created and it&rsquo;s contents are presented here.</p><h1 id=creating-a-warc-from-a-clone-of-commsitesgrinnelledu>Creating a WARC from a Clone of <code>comm.sites.grinnell.edu</code></h1><p>In July 2022 a new &ldquo;clone&rdquo; of the original <code>comm.sites.grinnell.edu</code> web site project &ndash; a <em>Wordpress</em> copy that contains posts and supporting information regarding campus construction projects including the HSSC and Adminissions Center &ndash; was created. That clone can be found, and administered, from <a href=https://comm.sites.grinnell.edu/clone/wp-admin/index.php>https://comm.sites.grinnell.edu/clone/wp-admin/index.php</a>.</p><h2 id=turning-redirection-off>Turning Redirection Off</h2><p>At present, both the <a href=https://comm.sites.grinnell.edu>comm.sites.grinnell.edu</a> and my clone at <a href=https://comm.sites.grinnell.edu/clone>comm.sites.grinnell.edu/clone</a> are redirected to <a href=https://www.grinnell.edu/about/leadership/offices-services/institutional-planning/campus-plan>https://www.grinnell.edu/about/leadership/offices-services/institutional-planning/campus-plan</a>. That&rsquo;s not the site that we want to WARC, so I need to turn redirection off in the <code>/clone</code> site so that it can be WARC&rsquo;d, I hope.</p><h3 id=first-attempt>First Attempt</h3><p>On the <a href="https://comm.sites.grinnell.edu/clone/wp-admin/tools.php?page=redirection.php">https://comm.sites.grinnell.edu/clone/wp-admin/tools.php?page=redirection.php</a> page I will &ldquo;disable&rdquo; all redirects by selecting all of the listed URLs, then under <code>Bulk Actions</code> I&rsquo;ll choose <code>Disable</code> click the <code>Apply</code> button. Done.</p><h4 id=outcome>Outcome</h4><p>Unfortunately, <a href=https://comm.sites.grinnell.edu/clone>comm.sites.grinnell.edu/clone</a> still redirects to <a href=https://www.grinnell.edu/about/leadership/offices-services/institutional-planning/campus-plan>https://www.grinnell.edu/about/leadership/offices-services/institutional-planning/campus-plan</a>. :frown:</p><h3 id=second-attempt>Second Attempt</h3><p>So, now I&rsquo;m going to delete the old redirection using the same process, but selecting <code>Delete</code> rather than <code>Disable</code>. Done.</p><h4 id=outcome-1>Outcome</h4><p>Nope, still redirected.</p><h3 id=third-attempt>Third Attempt</h3><p>I&rsquo;m going to visit settings and try to point to a new address like <code>comm-clone.sites.grinnell.edu</code>. So, I&rsquo;ll change the <code>Site Address (URL)</code> field from <code>http://comm.sites.grinnell.edu/clone</code> to <code>http://comm-clone.sites.grinnell.edu</code>.</p><h4 id=outcome-2>Outcome</h4><p>Nope, no longer redirected but I got a big <code>SORRY</code> message saying the site could not be found.</p><h2 id=first-wget-from-my-macbook-pro>First <code>wget</code> from My MacBook Pro</h2><pre tabindex=0><code>wget --warc-file=living-and-learning-community-web-archive --recursive --level=5 --warc-cdx --page-requisites --html-extension --convert-links --execute robots=off --directory-prefix=. -x /solr-search --wait=10 --random-wait https://dg-dev.sites.grinnell.edu/
</code></pre><pre tabindex=0><code>FINISHED --2022-08-01 12:08:09--
Total wall clock time: 18m 19s
Downloaded: 94 files, 11M in 1m 13s (156 KB/s)
</code></pre><h2 id=second-wget-from-imac>Second <code>wget</code> from iMac</h2><pre tabindex=0><code>wget --warc-file=living-and-learning-community-web-archive --recursive --level=10 --warc-cdx --page-requisites --html-extension --convert-links --execute robots=off --directory-prefix=. -x /solr-search --wait=10 --random-wait https://dg-dev.sites.grinnell.edu/
</code></pre><pre tabindex=0><code>FINISHED --2022-08-01 14:04:25--
Total wall clock time: 16m 13s
Downloaded: 94 files, 11M in 7.3s (1.54 MB/s)
</code></pre><h2 id=outcome-3>Outcome</h2><p>Since both <code>wget</code> operations returned 94 files it&rsquo;s safe to assume that constitutes a complete archive.</p><p>On the iMac the process produced the following <code>.cdx</code> index and <code>.warc.gz</code> compressed archive&mldr;</p><pre tabindex=0><code>╭─markmcfate@MAD25W812UJ1G9 ~ ‹ruby-2.3.0›
╰─$ ls -alh living*
-rw-r--r--  1 markmcfate  staff    35K Aug  1 14:04 living-and-learning-community-web-archive.cdx
-rw-r--r--  1 markmcfate  staff   9.1M Aug  1 14:04 living-and-learning-community-web-archive.warc.gz
</code></pre><h1 id=enlisting-help-from-dlac>Enlisting Help from DLAC</h1><p>All attempts to &ldquo;clone&rdquo; the old comm site in a form that could be successfully archived had failed, so we turned to the <code>Digital Liberal Arts Collaborative</code> (DLAC) and their <code>Reclaim Hosting</code> admin powers.</p><p>The remainder of this document includes a thread of emails captured and presented as a PDF document.</p><h2 id=dlac-email-thread>DLAC Email Thread</h2><script type=text/javascript src=//js/pdf-js/build/pdf.js></script><style>#the-canvas{border:1px solid #000;direction:ltr;width:100%;height:auto;display:none}#paginator{display:none;text-align:center;margin-bottom:10px}#loadingWrapper{display:none;justify-content:center;align-items:center;width:100%;height:350px}#loading{display:inline-block;width:50px;height:50px;border:3px solid #d2d0d0;border-radius:50%;border-top-color:#383838;animation:spin 1s ease-in-out infinite;-webkit-animation:spin 1s ease-in-out infinite}@keyframes spin{to{-webkit-transform:rotate(360deg)}}@-webkit-keyframes spin{to{-webkit-transform:rotate(360deg)}}</style><div id=paginator><button id=prev>Previous</button>
<button id=next>Next</button>
&nbsp; &nbsp;
<span>Page: <span id=page_num></span> / <span id=page_count></span></span></div><div id=embed-pdf-container><div id=loadingWrapper><div id=loading></div></div><canvas id=the-canvas></canvas></div><script type=text/javascript>window.onload=function(){c="https://static.grinnell.edu/dlad-blog/",u=""==="true",l=""==="true",h=parseInt("")||1,o=window["pdfjs-dist/build/pdf"],o.GlobalWorkerOptions.workerSrc="https://static.grinnell.edu/dlad-blog//js/pdf-js/build/pdf.worker.js";var o,c,l,u,h,n=null,e=h,i=!1,s=null,b=3,t=document.getElementById("the-canvas"),m=t.getContext("2d"),f=document.getElementById("paginator"),r=document.getElementById("loadingWrapper");v(),g();function a(e){i=!0,n.getPage(e).then(function(e){var o,r,n=e.getViewport({scale:b});t.height=n.height,t.width=n.width,o={canvasContext:m,viewport:n},r=e.render(o),r.promise.then(function(){i=!1,p(),s!==null&&(a(s),s=null)})}),document.getElementById("page_num").textContent=e}function p(){r.style.display="none",t.style.display="block"}function g(){if(l)return;r.style.display="flex",t.style.display="none"}function v(){if(u)return;f.style.display="block"}function d(e){i?s=e:a(e)}function j(){if(e<=1)return;e--,d(e)}document.getElementById("prev").addEventListener("click",j);function y(){if(e>=n.numPages)return;e++,d(e)}document.getElementById("next").addEventListener("click",y),o.getDocument(c).promise.then(function(t){n=t;var s=n.numPages;document.getElementById("page_count").textContent=s,e>s&&(e=s),a(e)})}</script></div><div class=post-footer><div id=disqus_thread></div><script type=application/javascript>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//digital-library-applications-developer-blog.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div></article></main></body></html>